<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>Internet Offers</title>
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.6/dist/css/bootstrap.min.css" 
    rel="stylesheet" 
    integrity="sha384-4Q6Gf2aSP4eDXB8Miphtr37CMZZQ5oXLH2yaXMJ2w8e2ZtHTl7GptT4jmndRuHDT" 
    crossorigin="anonymous">
    <link rel="stylesheet" href="{{ url_for('static', filename='css/styles.css') }}">
</head>
<body>
    <div class="container-fluid my-3 px-3">
        <h1>Compare offers</h1>
        <!-- Top bar: address, age, share -->
        <!-- Address and Age Box at the Top -->
<div class="row mb-3">
    <div class="col-12">
      <div class="card p-3">
        <div class="row g-2 align-items-end">
          <div class="col-md-2">
            <label class="form-label mb-1" for="street">Street</label>
            <input class="form-control" type="text" id="street" name="street">
          </div>
          <div class="col-md-2">
            <label class="form-label mb-1" for="house_number">House number</label>
            <input class="form-control" type="text" id="house_number" name="house_number">
          </div>
          <div class="col-md-2">
            <label class="form-label mb-1" for="plz">PLZ</label>
            <input class="form-control" type="text" id="plz" name="plz">
          </div>
          <div class="col-md-3">
            <label class="form-label mb-1" for="city">City</label>
            <input class="form-control" type="text" id="city" name="city">
          </div>
          <div class="col-md-2">
            <label class="form-label mb-1" for="age_input">
                Age <span class="text-secondary" style="font-size: 0.95em;">(optional)</span>
            </label>
            <input class="form-control" type="number" id="age_input" min="0" placeholder="Enter your age">
          </div>
          <div class="col-md-1 d-grid">
            <button id="search-btn" type="button" class="btn btn-primary mt-3">Search</button>
          </div>
          <div class="col-12 mt-2">
            <label>
              <input type="checkbox" id="show_all_ages" checked>
              Show me all offers
            </label>
          </div>
        </div>
      </div>
    </div>
  </div>
                <!-- Shareable URL field -->
                <!-- <div id="share" class="w-100">
                    <label for="share_url">Share this link:</label>
                    <input type="text" id="share_url" readonly style="width: 80%;">
                </div>
            </div>
        </div> -->
        <!-- Main content: sidebar filters and results -->
        <div class="row">
            <div class="mb-3">
                <label for="share_url" class="form-label">Share this link:</label>
                <input type="text" id="share_url" class="form-control" readonly>
              </div>
            <!-- Sidebar filters -->
            <div class="sidebar-col col-md-3 mb-2">
                <div id="filters" class="card p-3">
                    <h5 class="mb-3">Filters</h5>
                    <label class="mb-1">Min. speed:</label>
                    <div id="speed-buttons" class="mb-3">
                        <button type="button" data-speed="" class="btn btn-outline-secondary w-100 mb-1">All</button>
                        <button type="button" data-speed="20" class="btn btn-outline-secondary w-100 mb-1">from 20 Mbps</button>
                        <button type="button" data-speed="50" class="btn btn-outline-secondary w-100 mb-1">from 50 Mbps</button>
                        <button type="button" data-speed="100" class="btn btn-outline-secondary w-100 mb-1">from 100 Mbps</button>
                        <button type="button" data-speed="150" class="btn btn-outline-secondary w-100 mb-1">from 150 Mbps</button>
                        <button type="button" data-speed="250" class="btn btn-outline-secondary w-100 mb-1">from 250 Mbps</button>
                    </div>
                
                    <label class="mb-1">TV:</label>
                    <div id="tv-buttons" class="mb-3">
                        <button type="button" data-tv="" class="btn btn-outline-secondary w-100 mb-1">All</button>
                        <button type="button" data-tv="false" class="btn btn-outline-secondary w-100 mb-1">Only internet</button>
                        <button type="button" data-tv="true" class="btn btn-outline-secondary w-100 mb-1">Internet and TV</button>
                    </div>
                
                    <label class="mb-1">Data limit:</label>
                    <div id="limit-buttons" class="mb-3">
                        <button type="button" data-limit="" class="btn btn-outline-secondary w-100 py-1 mb-1" style="font-size:0.97em;">All</button>
                        <button type="button" data-limit="100" class="btn btn-outline-secondary w-100 py-1 mb-1" style="font-size:0.97em;">Capped at 100 GB</button>
                        <button type="button" data-limit="200" class="btn btn-outline-secondary w-100 py-1 mb-1" style="font-size:0.97em;">Capped at 200 GB</button>
                        <button type="button" data-limit="300" class="btn btn-outline-secondary w-100 py-1 mb-1" style="font-size:0.97em;">Capped at 300 GB</button>
                        <button type="button" data-limit="none" class="btn btn-outline-secondary w-100 py-1 mb-1" style="font-size:0.97em;">Unlimited</button>
                    </div>
                
                    <label class="mb-1">Connection type:</label>
                    <div id="connection-type-checkboxes" class="mb-3">
                        <div class="form-check mb-1">
                            <input type="checkbox" value="dsl" class="form-check-input connection-type" id="conn-dsl">
                            <label class="form-check-label" for="conn-dsl">DSL</label>
                        </div>
                        <div class="form-check mb-1">
                            <input type="checkbox" value="fiber" class="form-check-input connection-type" id="conn-fiber">
                            <label class="form-check-label" for="conn-fiber">Fiber</label>
                        </div>
                        <div class="form-check mb-1">
                            <input type="checkbox" value="cable" class="form-check-input connection-type" id="conn-cable">
                            <label class="form-check-label" for="conn-cable">Cable</label>
                        </div>
                    </div>
                
                    <label class="mb-1">Min. contract duration:</label>
                    <div id="duration-buttons" class="mb-3">
                        <button type="button" data-duration="" class="btn btn-outline-secondary w-100 mb-1">Any</button>
                        <button type="button" data-duration="12" class="btn btn-outline-secondary w-100 mb-1">12 months</button>
                        <button type="button" data-duration="24" class="btn btn-outline-secondary w-100 mb-1">24 months</button>
                    </div>
                
                    <label class="mb-1">Provider:</label>
                    <div id="provider-checkboxes" class="mb-3">
                        <div class="form-check mb-1">
                            <input type="checkbox" value="ByteMe" class="form-check-input provider" id="provider-ByteMe">
                            <label class="form-check-label" for="provider-ByteMe">ByteMe</label>
                        </div>
                        <div class="form-check mb-1">
                            <input type="checkbox" value="WebWunder" class="form-check-input provider" id="provider-WebWunder">
                            <label class="form-check-label" for="provider-WebWunder">WebWunder</label>
                        </div>
                        <div class="form-check mb-1">
                            <input type="checkbox" value="Ping Perfect" class="form-check-input provider" id="provider-WebWunder">
                            <label class="form-check-label" for="provider-Ping Perfect">Ping Perfect</label>
                        </div>
                        <div class="form-check mb-1">
                            <input type="checkbox" value="Servus Speed" class="form-check-input provider" id="provider-ServusSpeed">
                            <label class="form-check-label" for="provider-ServusSpeed">Servus Speed</label>
                        </div>
                        <div class="form-check mb-1">
                            <input type="checkbox" value="VerbynDich" class="form-check-input provider" id="provider-VerbynDich">
                            <label class="form-check-label" for="provider-VerbynDich">VerbynDich</label>
                        </div>
                    </div>
                
                    <div id="installation-checkbox" class="form-check mb-3 text-start">
                        <input type="checkbox" id="installation_included" name="installation_included" class="form-check-input">
                        <label class="form-check-label" for="installation_included">
                            Installation included
                        </label>
                    </div>
                    <button id="reset-filters" type="button" class="btn btn-outline-secondary w-100 mt-2">
                        Reset filters
                    </button>
                </div>
            </div>
            <!-- Offers/results -->
            <div class="results-col col-md-9">
                <!-- Sort menu above cards, right-aligned -->
                <div id="sort-filter-top" class="d-flex justify-content-between align-items-center mb-2">
                    <div id="offers-summary" class="text-secondary small">
                        <!-- Will be filled by JS, e.g.: "Found 12 offers from 4 providers" -->
                    </div>
                    <div class="d-flex align-items-center">
                        <label for="sort_by" class="me-2 mb-0">Sort by:</label>
                        <select id="sort_by" style="width:auto; display:inline-block;">
                            <option value="cost_first_years_eur" selected>Mean cost per month</option>
                            <option value="after_two_years_eur">Cost after two years</option>
                            <option value="speed_mbps">Speed</option>
                        </select>
                    </div>
                </div>
                <div id="loading-spinner" class="text-center my-3" style="display:none;">
                    <div class="spinner-border text-primary" role="status">
                        <span class="visually-hidden">Loading...</span>
                    </div>
                    <div class="small text-secondary mt-2">Loading offers...</div>
                </div>
                <div id="results" class="row g-1"></div>
            </div>
        </div>
    </div>
    <script type="module" src="{{ url_for('static', filename='js/main.js') }}"></script>
</body>
</html>